<script>
  document.getElementById("converter-form").addEventListener("submit", async function (e) {
    e.preventDefault();
    const usd = parseFloat(document.getElementById("usd").value);
    const resultElement = document.getElementById("result");

    try {
      const response = await fetch("https://api.exchangerate.host/convert?from=USD&to=GBP");
      const data = await response.json();
      
      if (!data || !data.result) {
        console.error("API error: ", data);
        resultElement.textContent = "Could not fetch conversion rate.";
        return;
      }

      const rate = data.result;
      const gbp = usd * rate;
      resultElement.textContent = `$${usd} = Â£${gbp.toFixed(2)} GBP`;
    } catch (error) {
      console.error("Fetch failed: ", error);
      resultElement.textContent = "Something went wrong. Try again.";
    }
  });
</script>

